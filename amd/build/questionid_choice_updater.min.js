define(["jquery","core/ajax"],function(a,b){var c={init:function(){a("select#id_categoryidnumber").on("change",c.categoryChanged),c.lastCategory=null},lastCategory:null,categoryChanged:function(){a("select#id_categoryidnumber").val()!==c.lastCategory&&(M.util.js_pending("filter_embedquestion-get_questions"),c.lastCategory=a("select#id_categoryidnumber").val(),""===c.lastCategory?c.updateChoices([]):b.call([{methodname:"filter_embedquestion_get_sharable_question_choices",args:{courseid:a("input[name=courseid]").val(),categoryidnumber:c.lastCategory}}])[0].done(c.updateChoices))},updateChoices:function(b){var c=a("select#id_questionidnumber");c.empty(),a(b).each(function(a,b){c.append('<option value="'+b.value+'">'+b.label+"</option>")}),M.util.js_complete("filter_embedquestion-get_questions")}};return c});